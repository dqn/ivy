title: Sample Story

# Chapter definitions (optional)
chapters:
  - id: "ch1"
    title: "Chapter 1: Introduction"
    start_label: "start"
    description: "The beginning of the story"
  - id: "ch2"
    title: "Chapter 2: The Forest"
    start_label: "forest"
    description: "Explore the mysterious forest"
  - id: "ch3"
    title: "Chapter 3: The Town"
    start_label: "town"
    description: "Visit the bustling town"

script:
  - label: start
    text: "Welcome to ivy - a simple visual novel engine."

  - input:
      var: "player_name"
      prompt: "What is your name?"
      default: "Player"

  - text: "Nice to meet you, {var:player_name}!"

  - text: "This is a sample scenario to demonstrate the basic features."

  # Ruby (furigana) demo
  - text: "This engine supports {ruby:漢字:かんじ} with {ruby:振り仮名:ふりがな}!"

  - text: "Where would you like to go?"
    choices:
      - label: "Go to the forest"
        jump: forest
      - label: "Go to the town"
        jump: town

  - label: forest
    background: "assets/bg_forest.png"
    particles: "leaves"
    particle_intensity: 0.3
    text: "You entered a {color:green}deep{/color}, {color:purple}mysterious{/color} forest..."

  - character: "assets/char_explorer.png"
    char_pos: "center"
    char_enter:
      type: "slide_left"
      duration: 0.4
    speaker: "Explorer"
    text: "The trees are tall and the air is fresh."

  - text: "Quick! What do you do?"
    timeout: 5.0
    choices:
      - label: "Explore deeper"
        jump: explore
      - label: "Return"
        jump: ending
        default: true

  - label: explore
    cinematic: true
    cinematic_duration: 0.8
    character: "assets/char_happy.png"
    shake:
      type: "both"
      intensity: 15.0
      duration: 0.5
    set:
      name: "found_treasure"
      value: true
    text: "You found a hidden treasure chest!"

  - cinematic: false
    text: "The dramatic moment passes..."
    jump: ending

  - label: town
    background: "assets/bg_town.png"
    particles: "snow"
    particle_intensity: 0.5
    set:
      name: "visited_town"
      value: 1
    text: "You arrived at a bustling town. It's snowing!"

  - character: "assets/char_merchant.png"
    char_pos: "right"
    char_enter:
      type: "fade"
      duration: 0.5
    text: "People are walking around, vendors are selling goods."
    jump: ending

  - label: ending
    background: ""
    character: ""
    particles: ""
    if:
      var: "found_treasure"
      is: true
      jump: treasure_ending
    text: "Thank you for playing!"

  # Wait command demo
  - wait: 1.5
  - text: "(After a moment of silence...)"

  - label: treasure_ending
    achievement:
      id: "treasure_hunter"
      name: "Treasure Hunter"
      description: "Found the hidden treasure in the forest"
    text: "Congratulations! You found the {color:gold}hidden treasure{/color}!"

  # Multiple characters demo
  - label: multi_char_demo
    background: "assets/bg_forest.png"
    characters:
      - image: "assets/char_explorer.png"
        pos: "left"
      - image: "assets/char_merchant.png"
        pos: "right"
    text: "Two characters appear on screen!"
